<% @title = "Listing people" %>

<% content_for :description do %>
  <p>Edit this template in <code>app/views/People/index.html.erb</code>.</p>
<% end %>

<% content_for :actions do %>
  <%= link_to new_person_path, class: 'btn btn-primary btn-large pull-right' do %>
    <%= icon_tag "plus" %> Add Person
  <% end %>
<% end %>

<div class="sheet sheet-condensed">
  <div class="sheet-inner">
    <table class="table">
      <thead>
        <tr>
          <th>Family name</th>
          <th>Given names</th>
          <th>Known as</th>
          <th>Address</th>
          <th>Sex</th>
          <th>Dob</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
      <% @people.each do |person| %>
        <tr>
          <td><%= person.family_name %></td>
          <td><%= person.given_names %></td>
          <td><%= person.known_as %></td>
          <td><%= person.address %></td>
          <td><%= person.gender %></td>
          <td><%= person.dob.strftime("%d/%m/%Y") %></td>
          <td class="actions">
            <%= link_to icon_tag("eye"), person, rel: 'tooltip', title: 'Show' %>
            <%= link_to icon_tag("pencil"), edit_person_path(person), rel: 'tooltip', title: 'Edit' %>
            <%= link_to icon_tag("trash-o"), person, rel: 'tooltip', title: 'Delete',
                        data: { confirm: 'Are you sure?' }, method: :delete %>
          </td>
        </tr>
      <% end %>
      <% if @people.length == 0 %>
        <tr><td colspan=42 class='text-center'>No people.</td></tr>
      <% end %>
      </tbody>
    </table>
  </div><!-- /.sheet-inner -->
</div><!-- /.sheet -->

